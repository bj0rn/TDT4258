In order to let a user be able to interact with our setup, the buttons on the gamepad were configured so that different sounds would play when one of them were pressed. Each button was configured to play one specified sound or melody. This was done by reading the value of the $GPIO\_PC\_DIN$ register, and writing this value to a function $play\_melodies(int)$ that would take the $GPIO\_PC\_DIN$ value as an input parameter and play the corresponding melody. One of the challenges in this was to get the DAC to output the entire melody, and not just for the duration in which a button was pressed. To solve this, a pointer variable was used to point to the correct sample array and let the timer run for the entire length of the array in order to play the whole melody. An alternative approach was to declare a global variable and set it to the value of the $GPIO\_PC\_DIN$ register in each of the GPIO-handlers, and use a switch-statement in the low-energy timer function to play the corresponding melody, but the former approach was prefered due to its energy efficiency advantages.

Our setup was as follows:

\begin{table}[ht]
\caption{Buttons and corresponding melodies}
% title of Table
\centering
% used for centering table
\begin{tabular}{c c}
% centered columns (4 columns)
\hline
\hline %inserts double horizontal lines
Button & Melody \\ [0.5ex]
% inserts table
%heading
\hline
SW1 & Mario \\
SW2 & Shoot \\
SW3 & Hit dealt \\
SW4 & Hit received \\
SW5 & Battlefield intro \\
SW6-SW8 & Simple *beep*-noises \\
% [1ex] adds vertical space
\hline
%inserts single line%
\end{tabular}
\label{table:nonlin}
% is used to refer this table in the text
\end{table}